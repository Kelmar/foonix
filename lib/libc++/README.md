TODO: Need to replace this with a proper C++ library.

